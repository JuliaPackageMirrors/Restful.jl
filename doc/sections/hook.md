### hooks

Hooks are functions that triggers at specific times. Currently there are three types of hooks:

#### preroute

`(r::Resource, req::Dict{Symbol, Any}, id::AbstractString) -> Any`

Triggered before a request handled by this resource or passed to a child resource.

It returns a `Dict{Symbol, Any}` to replace `req` for the following handlers,
or returns a `Response` to end this request and respond. When it returns other
things, the returned value will be ignored. However, modifications to `req` works.

#### onresponse & onretrun

`(r::Resource, req::Dict{Symbol, Any}, id::AbstractString, res::Response(Any)) -> Response(Any)`

`onresponse` Triggered after a request handled by this resource. You can return `Any`
but be sure that it will be replaced to a real `Response` by other hooks. 404 & 405
that automaticly generated by Restful.jl won't trigger this hook.

`onreturn` is like `onresponse` but triggerd after a request handled by this resource
_or_ any of its subresources.

#### method hook

`(next::Function, r::Resource, req::Dict{Symbol, Any}, id::AbstractString) -> Response(Any)`

Triggered before a request handled by this resource. You can alter `req` and call `next`,
then alter the response that `next` returns. You can also make a response without calling
`next` if you like. Doing this cause the request end before handled by the resource and
follwing hooks.

### Mixin

A mixin is a collection of hooks, acting like middlewares in many other frameworks.

You can use [@mixin](macro.html) to generate a mixin.
